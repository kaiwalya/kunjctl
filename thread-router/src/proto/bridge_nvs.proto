syntax = "proto3";

// Stored at key "tr-global"
message BridgeNvsGlobal {
    uint32 next_endpoint_id = 1;    // Monotonic counter for endpoint assignment
}

// Stored at key "tr-dev-{hex}" e.g. "tr-dev-a3f2"
message BridgeNvsDevice {
    string device_id = 1;           // Full device name: "vivid-falcon-a3f2"
    uint32 endpoint_id = 2;         // Assigned Matter endpoint ID

    // Last known sensor state (optional fields)
    optional float temperature = 3;
    optional float humidity = 4;
    optional bool relay_state = 5;
}
